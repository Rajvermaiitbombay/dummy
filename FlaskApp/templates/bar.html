<!DOCTYPE html>
<html>
<head>
<title>Bar Chart</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel= "stylesheet" type= "text/css" href= "static\toggle.css">
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/css/bootstrap-select.min.css" rel="stylesheet" />
<script type="text/javascript">






</script> 

<script>
var age={{ age|safe }};
var name={{ name|safe }};
var dfg=JSON.parse('{{ df|safe }}');
var na=["Date","x","y","z","xi","yi","zi"];
function filter() {
  var b=[];
  var d=[];
  var x = document.getElementById("selected");
  var y = x.options[x.selectedIndex].text;
  var z = dfg[y];
  for (var key in z) {
    b.push(z[key]);
	};
  for (i = 0; i < age.length; i++) {
    d.push({ y: b[i] , label: na[i] });
  }
    
    var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,

	title:{
		text: "Simple Line Chart"
	},
	axisX:{
	title: "age",
	interval: 1,
    }
	,
	axisY2:{
		interlacedColor: "rgba(1,77,101,.2)",
		gridColor: "rgba(1,77,101,.1)",
		title: "Name"
	},
	data: [{        
		type: "bar",
		name: "companies",
		axisYType: "secondary",
		color: "#014D65",     
		dataPoints: d
	}]
});
chart.render();
}

</script>
</head>
<body>
<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="/upload">Upload</a>
  <a href="/test">Your test Data</a>
  <a href="/download">Download</a>
  <a href="/line">Contact</a>
  <a href="/bar">Barchart</a>
</div>
<div id="main">
  <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776</span>
  <select class="form-control selectpicker" id="selected" data-live-search="true">

  {% for i in lname %}
  <option>{{i}}</option>
  {% endfor %}
  </select>
  <button type="button" onclick="filter()">Search</button>
  <div id='line'>
  <div id="chartContainer" style="height: 60%; width: 70%;"></div>
  <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
  <p id="demo"></p>
</div></div>

<script>
function openNav() {
  document.getElementById("mySidenav").style.width = "15%";
  document.getElementById("main").style.width = "85%";
  document.getElementById("main").style.marginLeft = "15%";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0%";
  document.getElementById("main").style.width = "100%";
  document.getElementById("main").style.marginLeft= "0%";
}
</script>

   
</body>
</html> 